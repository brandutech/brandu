{"ast":null,"code":"import _slicedToArray from\"/Users/francocastromiranda/dubai/teste/brandu/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState,useRef,useCallback}from\"react\";import format from\"date-fns/format\";import{GridListTileBar,withStyles}from\"@material-ui/core\";import VertOptions from\"./VertOptions\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var styles={imageContainer:{width:\"100%\",paddingTop:\"100%\",overflow:\"hidden\",position:\"relative\"},image:{position:\"absolute\",top:0,bottom:0,left:0,right:0,margin:\"auto\"}};function SelfAligningImage(props){var classes=props.classes,src=props.src,title=props.title,timeStamp=props.timeStamp,options=props.options,roundedBorder=props.roundedBorder,theme=props.theme;var img=useRef();var _useState=useState(null),_useState2=_slicedToArray(_useState,2),hasMoreWidthThanHeight=_useState2[0],setHasMoreWidthThanHeight=_useState2[1];var _useState3=useState(false),_useState4=_slicedToArray(_useState3,2),hasLoaded=_useState4[0],setHasLoaded=_useState4[1];var onLoad=useCallback(function(){if(img.current.naturalHeight<img.current.naturalWidth){setHasMoreWidthThanHeight(true);}else{setHasMoreWidthThanHeight(false);}setHasLoaded(true);},[img,setHasLoaded,setHasMoreWidthThanHeight]);return/*#__PURE__*/_jsxs(\"div\",{className:classes.imageContainer,children:[/*#__PURE__*/_jsx(\"img\",{style:{height:hasMoreWidthThanHeight?\"100%\":\"auto\",width:hasMoreWidthThanHeight?\"auto\":\"100%\",display:hasLoaded?\"block\":\"none\",borderRadius:roundedBorder?theme.shape.borderRadius:0},ref:img,className:classes.image,onLoad:onLoad,src:src,alt:\"\"}),title&&/*#__PURE__*/_jsx(GridListTileBar,{title:title,subtitle:format(new Date(timeStamp*1000),\"PP - k:mm\",{awareOfUnicodeTokens:true}),actionIcon:options.length>0&&/*#__PURE__*/_jsx(VertOptions,{color:theme.palette.common.white,items:options})})]});}export default withStyles(styles,{withTheme:true})(SelfAligningImage);","map":{"version":3,"sources":["/Users/francocastromiranda/dubai/teste/brandu/src/shared/components/SelfAligningImage.js"],"names":["React","useState","useRef","useCallback","format","GridListTileBar","withStyles","VertOptions","styles","imageContainer","width","paddingTop","overflow","position","image","top","bottom","left","right","margin","SelfAligningImage","props","classes","src","title","timeStamp","options","roundedBorder","theme","img","hasMoreWidthThanHeight","setHasMoreWidthThanHeight","hasLoaded","setHasLoaded","onLoad","current","naturalHeight","naturalWidth","height","display","borderRadius","shape","Date","awareOfUnicodeTokens","length","palette","common","white","withTheme"],"mappings":"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","sourcesContent":["import React, { useState, useRef, useCallback } from \"react\";\nimport PropTypes from \"prop-types\";\nimport format from \"date-fns/format\";\nimport { GridListTileBar, withStyles } from \"@material-ui/core\";\nimport VertOptions from \"./VertOptions\";\n\nconst styles = {\n  imageContainer: {\n    width: \"100%\",\n    paddingTop: \"100%\",\n    overflow: \"hidden\",\n    position: \"relative\",\n  },\n  image: {\n    position: \"absolute\",\n    top: 0,\n    bottom: 0,\n    left: 0,\n    right: 0,\n    margin: \"auto\",\n  },\n};\n\nfunction SelfAligningImage(props) {\n  const {\n    classes,\n    src,\n    title,\n    timeStamp,\n    options,\n    roundedBorder,\n    theme,\n  } = props;\n  const img = useRef();\n  const [hasMoreWidthThanHeight, setHasMoreWidthThanHeight] = useState(null);\n  const [hasLoaded, setHasLoaded] = useState(false);\n\n  const onLoad = useCallback(() => {\n    if (img.current.naturalHeight < img.current.naturalWidth) {\n      setHasMoreWidthThanHeight(true);\n    } else {\n      setHasMoreWidthThanHeight(false);\n    }\n    setHasLoaded(true);\n  }, [img, setHasLoaded, setHasMoreWidthThanHeight]);\n\n  return (\n    <div className={classes.imageContainer}>\n      <img\n        style={{\n          height: hasMoreWidthThanHeight ? \"100%\" : \"auto\",\n          width: hasMoreWidthThanHeight ? \"auto\" : \"100%\",\n          display: hasLoaded ? \"block\" : \"none\",\n          borderRadius: roundedBorder ? theme.shape.borderRadius : 0,\n        }}\n        ref={img}\n        className={classes.image}\n        onLoad={onLoad}\n        src={src}\n        alt=\"\"\n      />\n      {title && (\n        <GridListTileBar\n          title={title}\n          subtitle={format(new Date(timeStamp * 1000), \"PP - k:mm\", {\n            awareOfUnicodeTokens: true,\n          })}\n          actionIcon={\n            options.length > 0 && (\n              <VertOptions color={theme.palette.common.white} items={options} />\n            )\n          }\n        />\n      )}\n    </div>\n  );\n}\n\nSelfAligningImage.propTypes = {\n  classes: PropTypes.object.isRequired,\n  src: PropTypes.string.isRequired,\n  theme: PropTypes.object.isRequired,\n  title: PropTypes.string,\n  timeStamp: PropTypes.number,\n  roundedBorder: PropTypes.bool,\n  options: PropTypes.arrayOf(PropTypes.object),\n};\n\nexport default withStyles(styles, { withTheme: true })(SelfAligningImage);\n"]},"metadata":{},"sourceType":"module"}