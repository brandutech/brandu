{"ast":null,"code":"import{useHistory}from\"react-router-dom\";import{useEffect}from\"react\";var useLocationBlocker=function useLocationBlocker(){/** \n   * Prevents react-router from pushing the same\n   * page to the history twice which leads to\n   * multiple clicks on the back icon of the browser\n   * being necessary to go back into the history.\n  */var history=useHistory();useEffect(function(){return history.block(function(location,action){return action!==\"PUSH\"||getLocationId(location)!==getLocationId(history.location);});},[]// eslint-disable-line react-hooks/exhaustive-deps\n);};var getLocationId=function getLocationId(_ref){var pathname=_ref.pathname,search=_ref.search,hash=_ref.hash;return pathname+(search?\"?\"+search:\"\")+(hash?\"#\"+hash:\"\");};export default useLocationBlocker;","map":{"version":3,"sources":["/Users/francocastromiranda/dubai/teste/brandu/src/shared/functions/useLocationBlocker.js"],"names":["useHistory","useEffect","useLocationBlocker","history","block","location","action","getLocationId","pathname","search","hash"],"mappings":"AAAA,OAASA,UAAT,KAA2B,kBAA3B,CACA,OAASC,SAAT,KAA0B,OAA1B,CAGA,GAAMC,CAAAA,kBAAkB,CAAG,QAArBA,CAAAA,kBAAqB,EAAM,CAC/B;AACF;AACA;AACA;AACA;AACA,IACE,GAAMC,CAAAA,OAAO,CAAGH,UAAU,EAA1B,CACAC,SAAS,CACP,iBACEE,CAAAA,OAAO,CAACC,KAAR,CACE,SAACC,QAAD,CAAWC,MAAX,QACEA,CAAAA,MAAM,GAAK,MAAX,EACAC,aAAa,CAACF,QAAD,CAAb,GAA4BE,aAAa,CAACJ,OAAO,CAACE,QAAT,CAF3C,EADF,CADF,EADO,CAOP,EAAG;AAPI,CAAT,CASD,CAjBD,CAmBA,GAAME,CAAAA,aAAa,CAAG,QAAhBA,CAAAA,aAAgB,MAAgC,IAA7BC,CAAAA,QAA6B,MAA7BA,QAA6B,CAAnBC,MAAmB,MAAnBA,MAAmB,CAAXC,IAAW,MAAXA,IAAW,CACpD,MAAOF,CAAAA,QAAQ,EAAIC,MAAM,CAAG,IAAMA,MAAT,CAAkB,EAA5B,CAAR,EAA2CC,IAAI,CAAG,IAAMA,IAAT,CAAgB,EAA/D,CAAP,CACD,CAFD,CAIA,cAAeR,CAAAA,kBAAf","sourcesContent":["import { useHistory } from \"react-router-dom\";\nimport { useEffect } from \"react\";\n\n\nconst useLocationBlocker = () => {\n  /** \n   * Prevents react-router from pushing the same\n   * page to the history twice which leads to\n   * multiple clicks on the back icon of the browser\n   * being necessary to go back into the history.\n  */\n  const history = useHistory();\n  useEffect(\n    () =>\n      history.block(\n        (location, action) =>\n          action !== \"PUSH\" ||\n          getLocationId(location) !== getLocationId(history.location)\n      ),\n    [] // eslint-disable-line react-hooks/exhaustive-deps\n  );\n}\n\nconst getLocationId = ({ pathname, search, hash }) => {\n  return pathname + (search ? \"?\" + search : \"\") + (hash ? \"#\" + hash : \"\");\n}\n\nexport default useLocationBlocker;"]},"metadata":{},"sourceType":"module"}