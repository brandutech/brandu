{"ast":null,"code":"import _toConsumableArray from\"/Users/francocastromiranda/dubai/teste/brandu/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";import _slicedToArray from\"/Users/francocastromiranda/dubai/teste/brandu/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState,useCallback}from\"react\";import{Grid,TablePagination,Divider,Toolbar,Typography,Button,Paper,Box,withStyles}from\"@material-ui/core\";import DeleteIcon from\"@material-ui/icons/Delete\";import SelfAligningImage from\"../../../shared/components/SelfAligningImage\";import HighlightedInformation from\"../../../shared/components/HighlightedInformation\";import ConfirmationDialog from\"../../../shared/components/ConfirmationDialog\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var styles={dBlock:{display:\"block\"},dNone:{display:\"none\"},toolbar:{justifyContent:\"space-between\"}};var rowsPerPage=25;function PostContent(props){var pushMessageToSnackbar=props.pushMessageToSnackbar,setPosts=props.setPosts,posts=props.posts,openAddPostModal=props.openAddPostModal,classes=props.classes;var _useState=useState(0),_useState2=_slicedToArray(_useState,2),page=_useState2[0],setPage=_useState2[1];var _useState3=useState(false),_useState4=_slicedToArray(_useState3,2),isDeletePostDialogOpen=_useState4[0],setIsDeletePostDialogOpen=_useState4[1];var _useState5=useState(false),_useState6=_slicedToArray(_useState5,2),isDeletePostDialogLoading=_useState6[0],setIsDeletePostDialogLoading=_useState6[1];var closeDeletePostDialog=useCallback(function(){setIsDeletePostDialogOpen(false);setIsDeletePostDialogLoading(false);},[setIsDeletePostDialogOpen,setIsDeletePostDialogLoading]);var deletePost=useCallback(function(){setIsDeletePostDialogLoading(true);setTimeout(function(){var _posts=_toConsumableArray(posts);var index=_posts.find(function(element){return element.id===deletePost.id;});_posts.splice(index,1);setPosts(_posts);pushMessageToSnackbar({text:\"Your post has been deleted\"});closeDeletePostDialog();},1500);},[posts,setPosts,setIsDeletePostDialogLoading,pushMessageToSnackbar,closeDeletePostDialog]);var onDelete=useCallback(function(){setIsDeletePostDialogOpen(true);},[setIsDeletePostDialogOpen]);var handleChangePage=useCallback(function(__,page){setPage(page);},[setPage]);var printImageGrid=useCallback(function(){if(posts.length>0){return/*#__PURE__*/_jsx(Box,{p:1,children:/*#__PURE__*/_jsx(Grid,{container:true,spacing:1,children:posts.slice(page*rowsPerPage,page*rowsPerPage+rowsPerPage).map(function(post){return/*#__PURE__*/_jsx(Grid,{item:true,xs:6,sm:4,md:3,children:/*#__PURE__*/_jsx(SelfAligningImage,{src:post.src,title:post.name,timeStamp:post.timestamp,options:[{name:\"Delete\",onClick:function onClick(){onDelete(post);},icon:/*#__PURE__*/_jsx(DeleteIcon,{})}]})},post.id);})})});}return/*#__PURE__*/_jsx(Box,{m:2,children:/*#__PURE__*/_jsx(HighlightedInformation,{children:\"No posts added yet. Click on \\\"NEW\\\" to create your first one.\"})});},[posts,onDelete,page]);return/*#__PURE__*/_jsxs(Paper,{children:[/*#__PURE__*/_jsxs(Toolbar,{className:classes.toolbar,children:[/*#__PURE__*/_jsx(Typography,{variant:\"h6\",children:\"Your Posts\"}),/*#__PURE__*/_jsx(Button,{variant:\"contained\",color:\"secondary\",onClick:openAddPostModal,disableElevation:true,children:\"Add Post\"})]}),/*#__PURE__*/_jsx(Divider,{}),printImageGrid(),/*#__PURE__*/_jsx(TablePagination,{component:\"div\",count:posts.length,rowsPerPage:rowsPerPage,page:page,backIconButtonProps:{\"aria-label\":\"Previous Page\"},nextIconButtonProps:{\"aria-label\":\"Next Page\"},onChangePage:handleChangePage,classes:{select:classes.dNone,selectIcon:classes.dNone,actions:posts.length>0?classes.dBlock:classes.dNone,caption:posts.length>0?classes.dBlock:classes.dNone},labelRowsPerPage:\"\"}),/*#__PURE__*/_jsx(ConfirmationDialog,{open:isDeletePostDialogOpen,title:\"Confirmation\",content:\"Do you really want to delete the post?\",onClose:closeDeletePostDialog,loading:isDeletePostDialogLoading,onConfirm:deletePost})]});}export default withStyles(styles)(PostContent);","map":{"version":3,"sources":["/Users/francocastromiranda/dubai/teste/brandu/src/logged_in/components/posts/PostContent.js"],"names":["React","useState","useCallback","Grid","TablePagination","Divider","Toolbar","Typography","Button","Paper","Box","withStyles","DeleteIcon","SelfAligningImage","HighlightedInformation","ConfirmationDialog","styles","dBlock","display","dNone","toolbar","justifyContent","rowsPerPage","PostContent","props","pushMessageToSnackbar","setPosts","posts","openAddPostModal","classes","page","setPage","isDeletePostDialogOpen","setIsDeletePostDialogOpen","isDeletePostDialogLoading","setIsDeletePostDialogLoading","closeDeletePostDialog","deletePost","setTimeout","_posts","index","find","element","id","splice","text","onDelete","handleChangePage","__","printImageGrid","length","slice","map","post","src","name","timestamp","onClick","icon","select","selectIcon","actions","caption"],"mappings":"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","sourcesContent":["import React, { useState, useCallback } from \"react\";\nimport PropTypes from \"prop-types\";\nimport {\n  Grid,\n  TablePagination,\n  Divider,\n  Toolbar,\n  Typography,\n  Button,\n  Paper,\n  Box,\n  withStyles,\n} from \"@material-ui/core\";\nimport DeleteIcon from \"@material-ui/icons/Delete\";\nimport SelfAligningImage from \"../../../shared/components/SelfAligningImage\";\nimport HighlightedInformation from \"../../../shared/components/HighlightedInformation\";\nimport ConfirmationDialog from \"../../../shared/components/ConfirmationDialog\";\n\nconst styles = {\n  dBlock: { display: \"block\" },\n  dNone: { display: \"none\" },\n  toolbar: {\n    justifyContent: \"space-between\",\n  },\n};\n\nconst rowsPerPage = 25;\n\nfunction PostContent(props) {\n  const {\n    pushMessageToSnackbar,\n    setPosts,\n    posts,\n    openAddPostModal,\n    classes,\n  } = props;\n  const [page, setPage] = useState(0);\n  const [isDeletePostDialogOpen, setIsDeletePostDialogOpen] = useState(false);\n  const [isDeletePostDialogLoading, setIsDeletePostDialogLoading] = useState(\n    false\n  );\n\n  const closeDeletePostDialog = useCallback(() => {\n    setIsDeletePostDialogOpen(false);\n    setIsDeletePostDialogLoading(false);\n  }, [setIsDeletePostDialogOpen, setIsDeletePostDialogLoading]);\n\n  const deletePost = useCallback(() => {\n    setIsDeletePostDialogLoading(true);\n    setTimeout(() => {\n      const _posts = [...posts];\n      const index = _posts.find((element) => element.id === deletePost.id);\n      _posts.splice(index, 1);\n      setPosts(_posts);\n      pushMessageToSnackbar({\n        text: \"Your post has been deleted\",\n      });\n      closeDeletePostDialog();\n    }, 1500);\n  }, [\n    posts,\n    setPosts,\n    setIsDeletePostDialogLoading,\n    pushMessageToSnackbar,\n    closeDeletePostDialog,\n  ]);\n\n  const onDelete = useCallback(() => {\n    setIsDeletePostDialogOpen(true);\n  }, [setIsDeletePostDialogOpen]);\n\n  const handleChangePage = useCallback(\n    (__, page) => {\n      setPage(page);\n    },\n    [setPage]\n  );\n\n  const printImageGrid = useCallback(() => {\n    if (posts.length > 0) {\n      return (\n        <Box p={1}>\n          <Grid container spacing={1}>\n            {posts\n              .slice(page * rowsPerPage, page * rowsPerPage + rowsPerPage)\n              .map((post) => (\n                <Grid item xs={6} sm={4} md={3} key={post.id}>\n                  <SelfAligningImage\n                    src={post.src}\n                    title={post.name}\n                    timeStamp={post.timestamp}\n                    options={[\n                      {\n                        name: \"Delete\",\n                        onClick: () => {\n                          onDelete(post);\n                        },\n                        icon: <DeleteIcon />,\n                      },\n                    ]}\n                  />\n                </Grid>\n              ))}\n          </Grid>\n        </Box>\n      );\n    }\n    return (\n      <Box m={2}>\n        <HighlightedInformation>\n          No posts added yet. Click on &quot;NEW&quot; to create your first one.\n        </HighlightedInformation>\n      </Box>\n    );\n  }, [posts, onDelete, page]);\n\n  return (\n    <Paper>\n      <Toolbar className={classes.toolbar}>\n        <Typography variant=\"h6\">Your Posts</Typography>\n        <Button\n          variant=\"contained\"\n          color=\"secondary\"\n          onClick={openAddPostModal}\n          disableElevation\n        >\n          Add Post\n        </Button>\n      </Toolbar>\n      <Divider />\n      {printImageGrid()}\n      <TablePagination\n        component=\"div\"\n        count={posts.length}\n        rowsPerPage={rowsPerPage}\n        page={page}\n        backIconButtonProps={{\n          \"aria-label\": \"Previous Page\",\n        }}\n        nextIconButtonProps={{\n          \"aria-label\": \"Next Page\",\n        }}\n        onChangePage={handleChangePage}\n        classes={{\n          select: classes.dNone,\n          selectIcon: classes.dNone,\n          actions: posts.length > 0 ? classes.dBlock : classes.dNone,\n          caption: posts.length > 0 ? classes.dBlock : classes.dNone,\n        }}\n        labelRowsPerPage=\"\"\n      />\n      <ConfirmationDialog\n        open={isDeletePostDialogOpen}\n        title=\"Confirmation\"\n        content=\"Do you really want to delete the post?\"\n        onClose={closeDeletePostDialog}\n        loading={isDeletePostDialogLoading}\n        onConfirm={deletePost}\n      />\n    </Paper>\n  );\n}\n\nPostContent.propTypes = {\n  openAddPostModal: PropTypes.func.isRequired,\n  classes: PropTypes.object.isRequired,\n  posts: PropTypes.arrayOf(PropTypes.object).isRequired,\n  setPosts: PropTypes.func.isRequired,\n  pushMessageToSnackbar: PropTypes.func,\n};\n\nexport default withStyles(styles)(PostContent);\n"]},"metadata":{},"sourceType":"module"}